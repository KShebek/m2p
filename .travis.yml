language: minimal
env:
  matrix:
  - PYTHON_VERSION="3.6"
before_install:
- wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh;
- bash miniconda.sh -b -p $HOME/miniconda
- export PATH="$HOME/miniconda/bin:$PATH"
- conda config --set always_yes yes --set changeps1 no
- conda update -q conda
install:
- conda create -q -n test -c conda-forge python=$PYTHON_VERSION rdkit pytest tqdm
  pandas
- source activate test
- python -c "import rdkit.Chem"
- pip install -r requirements.txt
- pip install -e .
script:
- pytest tests/
deploy:
  provider: pypi
  user: wilsoa6
  password:
    secure: BW9aTfathsye4PiATTnCouEIGTVu4NTNJmfbZk3giscKw/jnM5LqlIpYYXkzCf3nufl/X4EXChtjpAJu7R4rZhwyfL1pU3DDiQo3O2oxc4LwURPp5sFUroIEFZ7Gg3GGIV8ke4V8Z9A2CqfO+DgLhVA0UR0RWTyP0dBSD3utdoW9knM84DpgkfqF/uS+v3xFuhdx01Xs7NY+fCneVKan7oDCNyS3zmB5EFReeHtonxuoOKhlIrAAh8jVR6GmNOv67+YpEwJ5fYdaBJ0X3qVXzwK0mK8gVhLYsVQ4nxxNihg9+f1PaMR7C/63fVFU406eCi8s/XQyjRHZ0PjqqgaKkbvTJVoQF8PkmHADJfufq9pfokDsDgPRR5mC9fr7nB6KuDigeSwcq2ODlhjYuzuSVIvqQBpu512VuyPDooc1CmSEy2Rf1Q3z1lozXN48dX2Ahl1H8Tqp2Zr8tkC0j1zzdL5KgkAof1DWGbqNISClcDfYJvQzQuVSAFGCRCzsqDdTEb4nZ1+I3i8LWi2epGHta3NG/pBWd97GjwEVHr1sfnQtHwvGRz7ASDosC47Ta9852B5a4XB6gXn2oIBDdyZ5OrNFRILCPj0GqnFUuAk+gkDot6YLMModrbHy1Pt0CRnHKXITD8Nlexf1cW2IQjP5koZl5sNi5tTQw+tQMAdZaAE=
  on:
    tags: true
